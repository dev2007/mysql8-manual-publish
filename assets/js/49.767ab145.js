(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{342:function(a,s,e){"use strict";e.r(s);var t=e(13),r=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"_2-1-4-4-使用-rpm-进行签名检查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-4-使用-rpm-进行签名检查"}},[a._v("#")]),a._v(" 2.1.4.4 使用 RPM 进行签名检查")]),a._v(" "),s("p",[a._v("对于 RPM 包，没有单独的签名。RPM 包具有内置的 GPG 签名和 MD5 校验和。你可以通过运行以下命令来验证包：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--checksig")]),a._v(" package_name.rpm\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("示例：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--checksig")]),a._v(" MySQL-server-8.0.27-0.linux_glibc2.5.i386.rpm\nMySQL-server-8.0.27-0.linux_glibc2.5.i386.rpm: md5 gpg OK\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("如果你使用的是 RPM 4.1，并且它警告 "),s("code",[a._v("(GPG) NOT OK (MISSING KEYS: GPG#5072e1f5")]),a._v("，那么即使你已经将 MySQL 公共构建密钥导入到自己的 GPG 密钥环中，你也需要首先将密钥导入 RPM 密钥环中。RPM 4.1 不再使用你的个人 GPG 钥匙环（或GPG本身）。相反，RPM 维护一个单独的密钥环，因为它是一个系统范围的应用程序，用户的 GPG 公钥环是一个用户特定的文件。要将 MySQL 公钥导入 RPM 密钥环，首先获取密钥，然后使用 "),s("code",[a._v("rpm --import")]),a._v(" 导入密钥。例如：")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" gpg "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--export")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" 5072e1f5 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" 5072e1f5.asc\n$"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--import")]),a._v(" 5072e1f5.asc\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("此外，"),s("strong",[a._v("rpm")]),a._v(" 还支持直接从 URL 加载密钥，你可以使用此手册页面：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--import")]),a._v(" https://dev.mysql.com/doc/refman/8.0/en/checking-gpg-signature.html\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("如果需要获取 MySQL 公钥，参阅"),s("RouterLink",{attrs:{to:"/2/2.1/2.1.4/2.1.4.2/checking-gpg-signature.html"}},[a._v("章节 2.1.4.2，“使用 GnuPG 进行签名检查”")]),a._v("。")],1),a._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/checking-rpm-signature.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("原文链接"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=r.exports}}]);