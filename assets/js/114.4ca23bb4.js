(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{414:function(s,a,t){"use strict";t.r(a);var r=t(13),l=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_2-7-在-solaris-上安装-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-在-solaris-上安装-mysql"}},[s._v("#")]),s._v(" 2.7 在 Solaris 上安装 MySQL")]),s._v(" "),a("ul",[a("li",[a("RouterLink",{attrs:{to:"/2/2.7/2.7.1/solaris-installation-pkg.html"}},[s._v("2.7.1 使用 Solaris PKG 在 Solaris 上安装 MySQL")])],1)]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("MySQL 8.0 支持 Solaris 11.4 及更高版本")])]),s._v(" "),a("p",[s._v("Solaris 上的 MySQL 有多种不同的格式。")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("有关使用本机 Solaris PKG 格式安装的信息，参阅"),a("RouterLink",{attrs:{to:"/2/2.7/2.7.1/solaris-installation-pkg.html"}},[s._v("章节 2.7.1，“使用 Solaris PKG 在 Solaris上 安装 MySQL”")]),s._v("。")],1)]),s._v(" "),a("li",[a("p",[s._v("要使用标准 "),a("code",[s._v("tar")]),s._v(" 二进制安装，请使用"),a("RouterLink",{attrs:{to:"/2/2.2/binary-installation.html"}},[s._v("章节 2.2，“使用通用二进制文件在 Unix/Linux 上安装 MySQL”")]),s._v("中提供的说明。请查看本节末尾的注释和提示，了解安装前后可能需要的 Solaris 特别说明。")],1)])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("MySQL 5.7 依赖于 Oracle Developer Studio 运行库；但这不适用于 MySQL 8.0。")])]),s._v(" "),a("p",[s._v("为了获得 tarball 或 PKG 格式的 Solaris 二进制 MySQL 发行版，"),a("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/8.0.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dev.mysql.com/downloads/mysql/8.0.html"),a("OutboundLink")],1),s._v("。")]),s._v(" "),a("p",[s._v("在 Solaris 上安装和使用 MySQL 时需要注意的其他注意事项：")]),s._v(" "),a("ul",[a("li",[s._v("如果要将 MySQL 与 MySQL 用户和组一起使用，请使用 "),a("strong",[s._v("groupadd")]),s._v(" 和 "),a("strong",[s._v("useradd")]),s._v(" 命令：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" mysql\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-g")]),s._v(" mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" /bin/false mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("ul",[a("li",[s._v("如果在 Solaris 上使用二进制 tarball 发行版安装 MySQL，因为 Solaris tar 无法处理长文件名，请使用 GNU "),a("strong",[s._v("tar")]),s._v("（"),a("strong",[s._v("gtar")]),s._v("）解压缩发行版。如果你的系统上没有 GNU "),a("strong",[s._v("tar")]),s._v("，请使用以下命令进行安装：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("pkg "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" archiver/gnu-tar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[s._v("你应该使用 "),a("code",[s._v("forcedirectio")]),s._v(" 选项挂载任何要在其上存储 "),a("code",[s._v("InnoDB")]),s._v(" 文件的文件系统。（默认情况下，在没有此选项的情况下进行装载。）如果不这样做，在该平台上使用 "),a("code",[s._v("InnoDB")]),s._v(" 存储引擎时会导致性能显著下降。")])]),s._v(" "),a("li",[a("p",[s._v("如果你希望 MySQL 自动启动，可以复制支持 "),a("code",[s._v("support-files/mysql.server")]),s._v(" 到 "),a("code",[s._v("/etc/init.d")]),s._v(" 并创建一个名为 "),a("code",[s._v("/etc/rc3.d/S99mysql.server")]),s._v(" 的符号链接。")])]),s._v(" "),a("li",[a("p",[s._v("如果有太多进程试图快速连接到 "),a("a",{attrs:{href:"/4/4.3/4.3.1/mysqld"}},[s._v("mysqld")]),s._v("，你应该会在 MySQL 日志中看到以下错误：")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Error "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" accept: Protocol error\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("你可以尝试使用 "),a("RouterLink",{attrs:{to:"/5/5.1/5.1.8/server-system-variables.html"}},[s._v("--back_log=50")]),s._v(" 选项启动服务器，作为解决方法。")],1),s._v(" "),a("ul",[a("li",[s._v("要在 Solaris 上配置核心文件的生成，应使用 "),a("strong",[s._v("coreadm")]),s._v(" 命令。由于在 "),a("code",[s._v("setuid()")]),s._v(" 应用程序上生成核心的安全含义，默认情况下，Solaris 不支持 "),a("code",[s._v("setuid()")]),s._v(" 程序上的核心文件。但是，你可以使用 "),a("strong",[s._v("coreadm")]),s._v(" 修改此行为。如果为当前用户启用 "),a("code",[s._v("setuid()")]),s._v(" 核心文件，它们将使用模式 600 生成，并由超级用户拥有。")])]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/solaris-installation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=l.exports}}]);