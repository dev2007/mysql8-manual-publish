(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{430:function(s,t,a){"use strict";a.r(t);var e=a(13),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_3-3-2-创建表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-创建表"}},[s._v("#")]),s._v(" 3.3.2 创建表")]),s._v(" "),t("p",[s._v("创建数据库很简单，但此时它是空的，正如 "),t("RouterLink",{attrs:{to:"/13/13.7/13.7.7/13.7.7.39/show-tables.html"}},[s._v("SHOW TABLES")]),s._v(" 告诉你的：")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SHOW TABLES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nEmpty "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" sec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("更难的部分是决定数据库的结构应该是什么：你需要哪些表以及每个表中应该包含哪些列。")]),s._v(" "),t("p",[s._v("你需要一个包含每个宠物记录的表。这可以称为 "),t("code",[s._v("pet")]),s._v(" 表，它至少应该包含每种动物的名字。因为名称本身不太有趣，所以表应该包含其他信息。例如，如果你的家庭中有多人饲养宠物，你可能需要列出每只动物的主人。你可能还想记录一些基本的描述性信息，如物种和性别。")]),s._v(" "),t("p",[s._v("年龄呢？这可能很有趣，但存储在数据库中不是一件好事。随着时间的推移，年龄会发生变化，这意味着你必须经常更新记录。相反，最好存储一个固定值，例如出生日期。然后，无论何时你需要年龄，你都可以将其计算为当前日期和出生日期之间的差值。MySQL 提供了进行日期运算的函数，所以这并不困难。存储出生日期而不是年龄还有其他优点：")]),s._v(" "),t("ul",[t("li",[s._v("你可以使用该数据库执行任务，例如为即将到来的宠物生日生成提醒。（如果你认为这种类型的查询有点愚蠢，请注意，这是你在商业数据库中可能会问的问题，以确定你需要在本周或本月向其发送生日祝福的客户，以便进行计算机辅助的个人触摸。）")]),s._v(" "),t("li",[s._v("你可以根据当前日期以外的日期计算年龄。例如，如果你将死亡日期存储在数据库中，你可以轻松计算宠物死亡时的年龄。")])]),s._v(" "),t("p",[s._v("你可能会想到在宠物桌上有用的其他类型的信息，但到目前为止确定的信息已经足够了：name（姓名）、owner（所有者）、species（物种）、sex（性别）、birth（出生）和 death（死亡）。")]),s._v(" "),t("p",[s._v("使用 "),t("RouterLink",{attrs:{to:"/13/13.1/13.1.20/create-table.html"}},[s._v("CREATE TABLE")]),s._v(" 语句指定表的布局：")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" CREATE TABLE pet "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name VARCHAR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", owner VARCHAR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n       species VARCHAR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", sex CHAR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", birth DATE, death DATE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("RouterLink",{attrs:{to:"/11/11.3/11.3.2/char.html"}},[s._v("VARCHAR")]),s._v(" 是 "),t("code",[s._v("name")]),s._v("、"),t("code",[s._v("owner")]),s._v(" 和 "),t("code",[s._v("species")]),s._v(" 列的好选择，因为列值的长度不同。这些列定义中的长度不必全部相同，也不必为 "),t("code",[s._v("20")]),s._v("。你通常可以选择 "),t("code",[s._v("1")]),s._v(" 到 "),t("code",[s._v("65535")]),s._v(" 之间的任何长度，只要你觉得最合理。如果你做了一个糟糕的选择，后来发现需要更长的字段，MySQL 会提供 "),t("RouterLink",{attrs:{to:"/13/13.1/13.1.9/alter-table.html"}},[s._v("ALTER TABLE")]),s._v(" 语句。")],1),s._v(" "),t("p",[s._v("可以选择几种类型的值来表示动物记录中的性别，例如 "),t("code",[s._v("'m'")]),s._v(" 和 "),t("code",[s._v("'f'")]),s._v("，或者 "),t("code",[s._v("'male'")]),s._v(" 和 "),t("code",[s._v("'female'")]),s._v("。使用单个字符 "),t("code",[s._v("'m'")]),s._v(" 和 "),t("code",[s._v("'f'")]),s._v(" 是最简单的。")]),s._v(" "),t("p",[t("code",[s._v("birth")]),s._v(" 和 "),t("code",[s._v("death")]),s._v(" 列使用 "),t("RouterLink",{attrs:{to:"/11/11.2/11.2.2/datetime.html"}},[s._v("DATE")]),s._v(" 数据类型是一个非常明显的选择。")],1),s._v(" "),t("p",[s._v("创建表后，"),t("RouterLink",{attrs:{to:"/13/13.7/13.7.7/13.7.7.39/show-tables.html"}},[s._v("SHOW TABLES")]),s._v(" 应生成一些输出：")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SHOW TABLES"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+---------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Tables "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" menagerie "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" pet                 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------------------+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("要验证表是否按预期方式创建，请使用 "),t("RouterLink",{attrs:{to:"/13/13.8/13.8.1/describe.html"}},[s._v("DESCRIBE")]),s._v(" 语句：")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" DESCRIBE pet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+---------+-------------+------+-----+---------+-------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Field   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Type        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Null "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Default "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Extra "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------+-------------+------+-----+---------+-------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" name    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" varchar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" YES  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NULL    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" owner   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" varchar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" YES  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NULL    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" species "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" varchar"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" YES  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NULL    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sex     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" char"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" YES  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NULL    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" birth   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" YES  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NULL    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" death   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" YES  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NULL    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+---------+-------------+------+-----+---------+-------+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("例如，如果忘记了表中列的名称或列的类型，则可以随时使用 "),t("RouterLink",{attrs:{to:"/13/13.8/13.8.1/describe.html"}},[s._v("DESCRIBE")]),s._v("。")],1),s._v(" "),t("p",[s._v("有关 MySQL 数据类型的更多信息，参阅"),t("RouterLink",{attrs:{to:"/11/data-types.html"}},[s._v("第11章，数据类型")]),s._v("。")],1),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/creating-tables.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);