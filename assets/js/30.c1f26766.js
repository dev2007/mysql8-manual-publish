(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{322:function(t,o,e){"use strict";e.r(o);var r=e(13),n=Object(r.a)({},(function(){var t=this,o=t._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("h1",{attrs:{id:"_1-6-3-1-primary-key-和-unique-索引约束"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3-1-primary-key-和-unique-索引约束"}},[t._v("#")]),t._v(" 1.6.3.1 PRIMARY KEY 和 UNIQUE 索引约束")]),t._v(" "),o("p",[t._v("通常，数据更改语句（如 "),o("RouterLink",{attrs:{to:"/13/13.2/13.2.6/insert.html"}},[o("code",[t._v("INSERT")])]),t._v(" 或 "),o("RouterLink",{attrs:{to:"/13/13.2/13.2.13/update.html"}},[o("code",[t._v("UPDATE")])]),t._v("）会发生错误，这些语句会违反主键、唯一键或外键约束。如果你使用的是事务存储引擎，如 "),o("code",[t._v("InnoDB")]),t._v("，MySQL 会自动回滚该语句。如果你使用的是非事务存储引擎，MySQL 将停止处理发生错误的行上的语句，并保留所有未处理的剩余行。")],1),t._v(" "),o("p",[t._v("MySQL 对 "),o("RouterLink",{attrs:{to:"/13/13.2/13.2.6/insert.html"}},[o("code",[t._v("INSERT")])]),t._v("、"),o("RouterLink",{attrs:{to:"/13/13.2/13.2.13/update.html"}},[o("code",[t._v("UPDATE")])]),t._v(" 等支持 "),o("code",[t._v("IGNORE")]),t._v(" 关键字。如果使用它，MySQL 将忽略主键或唯一键冲突，并继续处理下一行。请参阅章节以了解你正在使用的语句（"),o("RouterLink",{attrs:{to:"/13/13.2/13.2.6/insert.html"}},[t._v("章节 13.2.6，“INSERT 语句”")]),t._v("；"),o("RouterLink",{attrs:{to:"/13/13.2/13.2.13/update.html"}},[t._v("章节 13.2.13，“UPDATE 语句”")]),t._v("；等等）")],1),t._v(" "),o("p",[t._v("你可以通过 "),o("RouterLink",{attrs:{to:"/5/5.4/5.4.37/mysql-info.html"}},[o("code",[t._v("mysql_info()")])]),t._v(" C API 函数获取实际插入或更新的行数信息。你还可以使用 "),o("RouterLink",{attrs:{to:"/13/13.7/13.7.7/13.7.7.42/show-warnings.html"}},[o("code",[t._v("SHOW WARNINGS")])]),t._v(" 语句。参阅 "),o("RouterLink",{attrs:{to:"/5/5.4/5.4.37/mysql-info.html"}},[o("code",[t._v("mysql_info()")])]),t._v(" 及"),o("RouterLink",{attrs:{to:"/13/13.7/13.7.7/13.7.7.42/show-warnings.html"}},[t._v("章节 13.7.7.42，“SHOW WARNINGS 语句”")]),t._v("。")],1),t._v(" "),o("p",[o("code",[t._v("InnoDB")]),t._v(" 和 "),o("code",[t._v("NDB")]),t._v(" 表支持外键。参阅"),o("RouterLink",{attrs:{to:"/1/1.6/1.6.3/1.6.3.2/constraint-foreign-key.html"}},[t._v("章节 1.6.3.2，“FOREIGN KEY 约束”")]),t._v("。")],1),t._v(" "),o("blockquote",[o("p",[o("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/constraint-primary-key.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),o("OutboundLink")],1)])])])}),[],!1,null,null,null);o.default=n.exports}}]);