(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{393:function(s,a,e){"use strict";e.r(a);var l=e(13),t=Object(l.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_2-4-1-在-macos-上安装-mysql-的通用说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-在-macos-上安装-mysql-的通用说明"}},[s._v("#")]),s._v(" 2.4.1 在 macOS 上安装 MySQL 的通用说明")]),s._v(" "),a("p",[s._v("你应记住以下问题和注意事项：")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("其他 MySQL 安装")]),s._v("：通过包管理器，如 Homebrew，安装过程中不能识别 MySQL 的安装。安装和升级过程适用于我们提供的 MySQL 包。如果存在其他安装，请考虑在执行此安装程序之前停止安装，以避免端口冲突。")]),s._v(" "),a("p",[a("strong",[s._v("Homebrew")]),s._v("：例如，如果你使用 Homebrew 将 MySQL 服务器安装到其默认位置，则 MySQL 安装程序将安装到其他位置，并且不会从 Homebrew 升级版本。在这种情况下，你将得到多个默认情况下尝试使用相同端口的 MySQL 安装。在运行此安装程序之前，请停止其他 MySQL 服务器实例，例如执行 "),a("em",[s._v("brew services stop mysql")]),s._v(" 以停止 Homebrew 的 MySQL 服务。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("Launchd")]),s._v("：安装了一个 Launchd 守护进程，用于更改 MySQL 配置选项。如果需要，请考虑对其进行编辑。有关更多信息，参阅下面的文档。此外，macOS 10.10 删除了启动项支持，支持启动守护进程。macOS "),a("strong",[s._v("系统首选项")]),s._v("下的可选 MySQL 首选项面板使用 launchd 守护进程。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("用户")]),s._v("：你可能需要（或希望）创建一个特定的 "),a("code",[s._v("mysql")]),s._v(" 用户来拥有 MySQL 目录和数据。你可以通过"),a("strong",[s._v("目录实用程序")]),s._v("实现这一点，"),a("code",[s._v("mysql")]),s._v(" 用户应该已经存在。为了在单用户模式下使用，"),a("code",[s._v("_mysql")]),s._v(" 的条目（注意下划线前缀）应该已经存在于系统 "),a("code",[s._v("/etc/passwd")]),s._v(" 文件中。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("数据")]),s._v("：由于 MySQL 包安装程序将 MySQL 内容安装到特定于版本和平台的目录中，因此你可以使用它在不同版本之间升级和迁移数据库。你需要将数据目录从旧版本复制到新版本，或者指定另一个 "),a("code",[s._v("datadir")]),s._v(" 值来设置数据目录的位置。默认情况下，MySQL 目录安装在 "),a("code",[s._v("/usr/local/")]),s._v(" 下。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("别名")]),s._v("：你可能希望将别名添加到shell的资源文件中，以便于从命令行访问常用程序，如 "),a("a",{attrs:{href:"/4/4.5/4.5.1/mysql"}},[s._v("mysql")]),s._v(" 和 "),a("RouterLink",{attrs:{to:"/4/4.5/4.5.2/mysqladmin.html"}},[s._v("mysqladmin")]),s._v("。"),a("strong",[s._v("bash")]),s._v(" 的语法为：")],1)])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mysql")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/bin/mysql\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("mysqladmin")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/mysql/bin/mysqladmin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("对 "),a("strong",[s._v("tcsh")]),s._v("，则使用：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" mysql /usr/local/mysql/bin/mysql\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("alias")]),s._v(" mysqladmin /usr/local/mysql/bin/mysqladmin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("更好的方式是，将 "),a("code",[s._v("/usr/local/mysql/bin")]),s._v(" 添加到 "),a("code",[s._v("PATH")]),s._v(" 环境变量中。你可以通过修改 shell 合适的启动文件来实现这一点。更多信息，参阅"),a("RouterLink",{attrs:{to:"/4/4.2./4.2.1/invoking-programs.html"}},[s._v("章节 4.2.1，“调用 MySQL 程序”")]),s._v("。")],1),s._v(" "),a("ul",[a("li",[a("strong",[s._v("移除")]),s._v("：在复制了以前安装的 MySQL 数据库文件并成功启动新服务器之后，你应该考虑删除旧的安装文件以节省磁盘空间。此外，你还应该删除位于 "),a("code",[s._v("/Library/receives/mysql-VERSION.pkg")]),s._v(" 中的包收据目录的旧版本。")])]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/macos-installation-notes.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=t.exports}}]);