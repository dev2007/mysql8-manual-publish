(window.webpackJsonp=window.webpackJsonp||[]).push([[118],{417:function(t,r,e){"use strict";e.r(r);var o=e(13),n=Object(o.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"_2-9-2-源安装前提条件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-2-源安装前提条件"}},[t._v("#")]),t._v(" 2.9.2 源安装前提条件")]),t._v(" "),r("p",[t._v("从源代码安装MySQL需要几个开发工具。无论你使用标准源代码发行版还是开发源代码树，都需要其中一些工具。其他工具要求取决于你使用的安装方法。\n要从源代码安装MySQL，无论安装方法如何，都必须满足以下系统要求：")]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("CMake")]),t._v("，它被用作所有平台上的构建框架。CMake可以从下载 "),r("a",{attrs:{href:"http://www.cmake.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.cmake.org"),r("OutboundLink")],1),t._v("。")])]),t._v(" "),r("li",[r("p",[t._v("一个好的 "),r("strong",[t._v("make")]),t._v(" 程序。尽管有些平台自带  "),r("strong",[t._v("make")]),t._v(" 实现，但强烈建议你使用GNU make 3.75或更高版本。它可能已经作为gmake在你的系统上可用。GNU "),r("strong",[t._v("make")]),t._v(" 可从 "),r("a",{attrs:{href:"http://www.gnu.org/software/make/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.gnu.org/software/make/"),r("OutboundLink")],1),t._v("。")])]),t._v(" "),r("li",[r("p",[t._v("从MySQL 8.0.27 开始，MySQL 8.0 源代码允许使用 C++17 特性。为了在所有支持的平台上实现良好的 C++17 支持，以下最低编译器版本适用。")]),t._v(" "),r("ul",[r("li",[t._v("Linux: GCC 7.1 或 Clang 5")]),t._v(" "),r("li",[t._v("macOS: XCode 10")]),t._v(" "),r("li",[t._v("Solaris: GCC 10")]),t._v(" "),r("li",[t._v("Windows: Visual Studio 2019 Update 4")])])]),t._v(" "),r("li",[r("p",[t._v("MySQL C API 需要 C++ 或 C99 编译器来编译。")])]),t._v(" "),r("li",[r("p",[t._v("需要 SSL 库来支持加密连接、随机数生成的熵以及其他与加密相关的操作。默认情况下，构建使用安装在主机系统上的 OpenSSL 库。要显式指定库，请在调用 CMake 时使用 "),r("RouterLink",{attrs:{to:"/2/2.9/2.9.7/source-configuration-options.html"}},[t._v("WITH_SSL")]),t._v(" 选项。有关更多信息，参阅"),r("RouterLink",{attrs:{to:"/2/2.9/2.9.6/source-ssl-library-configuration.html"}},[t._v("章节 2.9.6，“配置 SSL 库支持”")]),t._v("。")],1)]),t._v(" "),r("li",[r("p",[t._v("构建 MySQL 需要 Boost C++ 库（但不能使用它）。MySQL 编译需要特定的 Boost 版本。通常，这是当前的 Boost 版本，但如果特定的 MySQL 源发行版需要不同的版本，则配置过程会停止，并显示一条消息，指明所需的 Boost 版。要获取 Boost 及其安装说明，请访问官方网站。安装 Boost 后，通过在调用 "),r("strong",[t._v("CMake")]),t._v(" 时定义 "),r("RouterLink",{attrs:{to:"/2/2.9/2.9.7/source-configuration-options.html"}},[t._v("WITH_Boost")]),t._v(" 选项，告诉构建系统 Boost 文件的位置。例如：")],1)])]),t._v(" "),r("div",{staticClass:"language-bash line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[t._v("cmake "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-DWITH_BOOST")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/local/boost_version_number\n")])]),t._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[t._v("1")]),r("br")])]),r("p",[t._v("按需调整路径以匹配你的安装。")]),t._v(" "),r("ul",[r("li",[r("p",[r("a",{attrs:{href:"https://www.gnu.org/software/ncurses/ncurses.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ncurses"),r("OutboundLink")],1),t._v(" 库。")])]),t._v(" "),r("li",[r("p",[t._v("足够的可用内存。如果在编译大型源文件时遇到“internal compiler error（内部编译器错误）”等问题，可能是内存太少。如果在虚拟机上编译，请尝试增加内存分配。")])]),t._v(" "),r("li",[r("p",[t._v("如果你打算运行测试脚本，则需要 Perl。大多数类 Unix 系统包括 Perl。在 Windows 上，可以使用 ActiveState Perl 等版本。")])])]),t._v(" "),r("p",[t._v("要从标准源发行版安装 MySQL，需要以下工具之一来解压缩发行版文件：")]),t._v(" "),r("ul",[r("li",[t._v("对于 "),r("code",[t._v(".tar.gz")]),t._v(" 压缩的 "),r("strong",[t._v("tar")]),t._v(" 文件：GNU "),r("code",[t._v("gunzip")]),t._v(" 解压缩发布包，适用的 "),r("strong",[t._v("tar")]),t._v(" 解压缩。如果你的 "),r("strong",[t._v("tar")]),t._v(" 程序支持 "),r("code",[t._v("z")]),t._v(" 选项，它可以解压缩和展开文件。")])]),t._v(" "),r("p",[t._v("已知 GNU "),r("strong",[t._v("tar")]),t._v(" 可用。某些操作系统提供的标准 "),r("strong",[t._v("tar")]),t._v(" 无法解压缩 MySQL 发行版中的长文件名。你应该下载并安装 GNU "),r("strong",[t._v("tar")]),t._v("，或者如果可以，使用预先安装的 GNU tar 版本。通常，它可以作为 "),r("strong",[t._v("gnutar")]),t._v("、"),r("strong",[t._v("gtar")]),t._v(" 或 "),r("strong",[t._v("tar")]),t._v(" 在 GNU 或自由软件目录中提供，例如 "),r("code",[t._v("/usr/sfw/bin")]),t._v(" 或 "),r("code",[t._v("/usr/local/bin")]),t._v("。GNU  "),r("strong",[t._v("tar")]),t._v(" 可从 "),r("a",{attrs:{href:"http://www.gnu.org/software/tar/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.gnu.org/software/tar/"),r("OutboundLink")],1),t._v("。")]),t._v(" "),r("ul",[r("li",[t._v("对于 "),r("code",[t._v(".zip")]),t._v(" Zip 文件："),r("strong",[t._v("WinZip")]),t._v(" 或其他可以读取 "),r("code",[t._v(".zip")]),t._v(" 文件的工具。")]),t._v(" "),r("li",[t._v("对于 "),r("code",[t._v(".rpm")]),t._v(" RPM 包：用于构建发行版的 "),r("strong",[t._v("rpmbuild")]),t._v(" 程序将其解压缩。")])]),t._v(" "),r("p",[t._v("要从开发源树安装MySQL，需要以下附加工具：")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("Gi t版本控制系统需要获得开发源码。"),r("a",{attrs:{href:"https://help.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Help"),r("OutboundLink")],1),t._v(" 提供了在不同平台上下载和安装 Git 的说明。MySQL 于2014年9月正式加入 GitHub。有关 MySQL 迁移到 GitHub 的更多信息，参阅 MySQL 发布工程博客上的公告："),r("a",{attrs:{href:"http://mysqlrelease.com/2014/09/mysql-on-github/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub 上的 MySQL"),r("OutboundLink")],1),t._v("。")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("bison 2.1")]),t._v(" 或更高版本，可从 "),r("a",{attrs:{href:"http://www.gnu.org/software/bison/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.gnu.org/software/bison/"),r("OutboundLink")],1),t._v("（不再支持版本 1。）尽可能使用最新版本的 bison；如果遇到问题，请升级到更高版本，而不是恢复到早期版本。")])])]),t._v(" "),r("p",[r("strong",[t._v("bison")]),t._v(" 可以从 "),r("a",{attrs:{href:"http://www.gnu.org/software/bison/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.gnu.org/software/bison/"),r("OutboundLink")],1),t._v(" 获得。Windows 版 "),r("code",[t._v(".bison")]),t._v(" 可以从 "),r("a",{attrs:{href:"http://gnuwin32.sourceforge.net/packages/bison.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://gnuwin32.sourceforge.net/packages/bison.htm"),r("OutboundLink")],1),t._v("。 下载标有“Complete package, excluding source（完整包，不包括源）”的包。在 Windows 上，"),r("strong",[t._v("bison")]),t._v(" 的默认位置是 "),r("code",[t._v("C:\\Program Files\\GnuWin32")]),t._v(" 目录。由于目录名中的空格，一些实用程序可能无法找到 "),r("strong",[t._v("bison")]),t._v("。此外，如果路径中有空格，VisualStudio 可能会挂起。你可以通过安装到不包含空格的目录（例如 "),r("code",[t._v("C:\\GnuWin32")]),t._v("）来解决这些问题。")]),t._v(" "),r("ul",[r("li",[t._v("在 Solaris Express 上，除了 "),r("strong",[t._v("bison")]),t._v(" 之外，还必须安装 "),r("strong",[t._v("m4")]),t._v("。"),r("strong",[t._v("m4")]),t._v(" 可从 "),r("a",{attrs:{href:"http://www.gnu.org/software/m4/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.gnu.org/software/m4/"),r("OutboundLink")],1),t._v(" 获得。")])]),t._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),r("p",[t._v("如果必须安装任何程序，请修改 PATH 环境变量以包含程序所在的任何目录。参阅"),r("RouterLink",{attrs:{to:"/4/4.2./4.2.9/setting-environment-variables.html"}},[t._v("章节 4.2.9，“设置环境变量”")]),t._v("。")],1)]),t._v(" "),r("p",[t._v("如果你遇到问题并需要提交错误报告，请使用"),r("RouterLink",{attrs:{to:"/1/1.6/bug-reports.html"}},[t._v("章节 1.6，“如何报告错误或问题”")]),t._v("中的说明。")],1),t._v(" "),r("blockquote",[r("p",[r("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/source-installation-prerequisites.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),r("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=n.exports}}]);