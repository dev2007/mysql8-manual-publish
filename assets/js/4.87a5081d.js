(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{277:function(e,t,a){e.exports=a.p+"assets/img/gnupg-kleopatra-home.4d12d4d9.png"},278:function(e,t,a){e.exports=a.p+"assets/img/gnupg-kleopatra-find-certificate.149ee3f2.png"},279:function(e,t,a){e.exports=a.p+"assets/img/gnupg-kleopatra-change-trust.a49d987b.png"},280:function(e,t,a){e.exports=a.p+"assets/img/gnupg-kleopatra-decrypt-load.ece002bf.png"},281:function(e,t,a){e.exports=a.p+"assets/img/gnupg-kleopatra-decrypt-okay-sig.e1a685fc.png"},282:function(e,t,a){e.exports=a.p+"assets/img/gnupg-kleopatra-decrypt-invalid-sig.fc9173da.png"},341:function(e,t,a){"use strict";a.r(t);var r=a(13),o=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"_2-1-4-3-使用-windows-版-gpg4win-进行签名检查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-3-使用-windows-版-gpg4win-进行签名检查"}},[e._v("#")]),e._v(" 2.1.4.3 使用 Windows 版 Gpg4win 进行签名检查")]),e._v(" "),t("p",[t("RouterLink",{attrs:{to:"/2/2.1/2.1.4/2.1.4.2/checking-gpg-signature.html"}},[e._v("章节 2.1.4.2，“使用 GnuPG 进行签名检查”")]),e._v("描述了如何使用 GPG 验证 MySQL 下载。该指南也适用于 Microsoft Windows，但另一种选择是使用 Gpg4win 之类的 GUI 工具。你可以使用不同的工具，但我们的示例基于 Gpg4win，并使用其捆绑的 "),t("code",[e._v("Kleopatra GUI")]),e._v("。")],1),e._v(" "),t("p",[e._v("下载并安装 Gpg4win，然后加载 Kleopatra。该对话框应类似于：")]),e._v(" "),t("p",[t("strong",[e._v("图 2.1 Kleopatra: 初始化屏幕")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(277),alt:"Kleopatra: Initial Screen"}})]),e._v(" "),t("p",[e._v("接下来，添加 MySQL 发布工程证书。为此，请单击 "),t("code",[e._v("文件（File）")]),e._v("，"),t("code",[e._v("查找服务器上的证书（Lookup Certificates on Server）")]),e._v("。在搜索框中键入“Mysql 发布工程”，然后按 "),t("code",[e._v("Search（搜索）")]),e._v("。")]),e._v(" "),t("p",[t("strong",[e._v("图 2.2 Kleopatra：在服务器上查找证书向导：查找证书")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(278),alt:"Kleopatra: Lookup Certificates on Server Wizard: Finding a Certificate"}})]),e._v(" "),t("p",[e._v("选择 “MySQL 发布工程”证书。指纹和密钥 ID 必须为“5072E1F5”，或选择"),t("code",[e._v("详细信息...（Details...）")]),e._v("确认证书是否有效。现在，通过单击"),t("code",[e._v("导入(Import)")]),e._v("来导入它。显示导入对话框时，选择“确定（Okay）”，此时该证书应列在“已导入证书（Imported Certificates）”选项卡下。")]),e._v(" "),t("p",[e._v("接下来，配置证书的信任级别。选择我们的证书，然后从主菜单中选择"),t("code",[e._v("证书（Certificates）")]),e._v("，"),t("code",[e._v("更改所有者信任...（Change Owner Trust...）")]),e._v("。我们建议你选择“I believe checks are very accurate”，否则你可能无法验证我们的签名。选择“I believe checks are very accurate”以启用“完全信任”，然后按 "),t("code",[e._v("OK")]),e._v("。")]),e._v(" "),t("p",[t("strong",[e._v("图 2.3 Kleopatra：更改 MySQL 发布工程的信任级别")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(279),alt:"Kleopatra: Change Trust level for MySQL Release Engineering"}})]),e._v(" "),t("p",[e._v("接下来，验证下载的 MySQL 包文件。这需要打包文件和签名的文件。签名文件必须与打包文件具有相同的名称，但具有附加的 "),t("code",[e._v(".asc")]),e._v(" 扩展名，如下表中的示例所示。签名链接到每个 MySQL 产品的下载页面上。必须使用此签名创建 "),t("code",[e._v(".asc")]),e._v(" 文件。")]),e._v(" "),t("p",[e._v("表格 2.2 适用于 Microsoft Windows 的 MySQL 安装程序的 MySQL 包和签名文件")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("文件类型")]),e._v(" "),t("th",[e._v("文件名")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("发布文件")]),e._v(" "),t("td",[t("code",[e._v("mysql-installer-community-8.0.27.msi")])])]),e._v(" "),t("tr",[t("td",[e._v("签名文件")]),e._v(" "),t("td",[t("code",[e._v("mysql-installer-community-8.0.27.msi.asc")])])])])]),e._v(" "),t("p",[e._v("确保两个文件存储在同一目录中，然后运行以下命令验证分发文件的签名。将签名（"),t("code",[e._v(".asc")]),e._v("）文件拖放到 Kleopatra 中，或从"),t("code",[e._v("文件，解密/验证文件（File,Decrypt/Verify Files...）")]),e._v("加载对话框，然后选择 "),t("code",[e._v(".msi")]),e._v(" 或 "),t("code",[e._v(".asc")]),e._v(" 文件。")]),e._v(" "),t("p",[t("strong",[e._v("图 2.4 Kleopatra：解密和验证文件对话框")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(280),alt:"Kleopatra: The Decrypt and Verify Files Dialog"}})]),e._v(" "),t("p",[e._v("单击 "),t("code",[e._v("解密/验证（Decrypt/Verify）")]),e._v("以检查文件。两个最常见的结果如下图所示；尽管黄色警告看起来可能有问题，但以下内容表示文件检查成功通过。你现在可以运行此安装程序。")]),e._v(" "),t("p",[t("strong",[e._v("图 2.5 Kleopatra：解密和验证结果对话框：所有操作已完成")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(281),alt:"Kleopatra: the Decrypt and Verify Results Dialog: All operations completed"}})]),e._v(" "),t("p",[e._v("看到红色 "),t("code",[e._v("The signature is bad")]),e._v(" 错误表示文件无效。如果看到此错误，请不要执行 MSI 文件。")]),e._v(" "),t("p",[t("strong",[e._v("图 2.6 Kleopatra：解密和验证结果对话框：错误")])]),e._v(" "),t("p",[t("img",{attrs:{src:a(282),alt:"Kleopatra: the Decrypt and Verify Results Dialog: Bad"}})]),e._v(" "),t("p",[t("RouterLink",{attrs:{to:"/2/2.1/2.1.4/2.1.4.2/checking-gpg-signature.html"}},[e._v("章节 2.1.4.2，“使用 GnuPG 进行签名检查”")]),e._v("，部分解释了为什么你没有看到绿色良好的签名结果。")],1),e._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/checking-gpg-signature-windows.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=o.exports}}]);