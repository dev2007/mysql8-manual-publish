(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{398:function(s,a,t){"use strict";t.r(a);var e=t(13),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_2-5-1-使用-mysql-yum-存储库在-linux-上安装-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-使用-mysql-yum-存储库在-linux-上安装-mysql"}},[s._v("#")]),s._v(" 2.5.1 使用 MySQL Yum 存储库在 Linux 上安装 MySQL")]),s._v(" "),a("p",[s._v("用于Oracle Linux、Red Hat 企业版 Linux、CentOS 和 Fedora 的 MySQL Yum 仓库提供了用于安装 MySQL 服务器、客户端、MySQL 工作台、MySQL 实用程序、MySQL 路由器、MySQL Shell、Connector/ODBC、Connector/Python 等的 RPM 包（并非所有包都适用于所有发行版；有关详细信息，参阅"),a("RouterLink",{attrs:{to:"/2/2.5/2.5.1/linux-installation-yum-repo.html#使用-Yum-安装其他-MySQL-产品和组件"}},[s._v("使用 Yum 安装其他 MySQL 产品和组件")]),s._v("）。")],1),s._v(" "),a("h2",{attrs:{id:"在你开始前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在你开始前"}},[s._v("#")]),s._v(" 在你开始前")]),s._v(" "),a("p",[s._v("作为一种流行的开源软件，MySQL 以其原始或重新打包的形式广泛安装在来自不同来源的许多系统上，包括不同的软件下载站点、软件存储库等。以下说明假设 MySQL 尚未使用第三方分布式 RPM 包安装在你的系统上；如果不是这样，请按照"),a("RouterLink",{attrs:{to:"/2/2.11/2.11.7/updating-yum-repo.html"}},[s._v("章节 2.11.7，“使用 MySQL Yum 他库升级 MySQL”")]),s._v("或者"),a("RouterLink",{attrs:{to:"/2/2.5/2.5.2/replace-third-party-yum.html"}},[s._v("使用 MySQL Yum 仓库替换 MySQL 的第三方发行版")]),s._v("中给出的说明进行操作。")],1),s._v(" "),a("h2",{attrs:{id:"新安装-mysql-的步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新安装-mysql-的步骤"}},[s._v("#")]),s._v(" 新安装 MySQL 的步骤")]),s._v(" "),a("p",[s._v("按照以下步骤使用 MySQL Yum 仓库安装 MySQL 的最新 GA 版本：")]),s._v(" "),a("h3",{attrs:{id:"_1-添加-mysql-yum-仓库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-添加-mysql-yum-仓库"}},[s._v("#")]),s._v(" 1. "),a("strong",[s._v("添加 MySQL Yum 仓库")])]),s._v(" "),a("p",[s._v("首先，将 MySQL Yum 仓库添加到系统的存储库列表中。这是一个一次性操作，可以通过安装 MySQL 提供的 RPM 来执行。请遵循以下步骤：")]),s._v(" "),a("p",[s._v("a. 转到 MySQL 开发人员区域中下载 MySQL Yum 仓库页面("),a("a",{attrs:{href:"https://dev.mysql.com/downloads/repo/yum/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dev.mysql.com/downloads/repo/yum/"),a("OutboundLink")],1),s._v(")。")]),s._v(" "),a("p",[s._v("b. 为你的平台选择并下载发布包。")]),s._v(" "),a("p",[s._v("c. 使用以下命令安装下载的发行包，将平台和版本特定的包名替换为下载的 RPM 包名：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" platform-and-version-specific-package-name.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对于基于 EL6 的系统，命令格式如下：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql80-community-release-el6-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("version-number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".noarch.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对于基于 EL7 的系统：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql80-community-release-el7-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("version-number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".noarch.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对于基于 EL8 的系统：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql80-community-release-el8-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("version-number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".noarch.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对于基于 EL9 的系统：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql80-community-release-el9-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("version-number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".noarch.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对于 Fedora 35：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql80-community-release-fc35-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("version-number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".noarch.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("对于 Fedora 34：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql80-community-release-fc34-"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("version-number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(".noarch.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装命令将 MySQL Yum 仓库添加到系统的存储库列表中，并下载GnuPG密钥以检查软件包的完整性。有关GnuPG密钥检查的详细信息，请参见第2.1.4.2节“使用GnuPG进行签名检查”。")]),s._v(" "),a("p",[s._v("你可以通过以下命令检查 MySQL Yum 仓库是否已成功添加（对于启用dnf的系统，请将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" yum repolist enabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql.*-community.*"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("在你的系统上启用 MySQL Yum 仓库后，通过Y "),a("strong",[s._v("yum update")]),s._v(" 命令进行的任何系统范围的更新（或对启用dnf的系统进行 "),a("strong",[s._v("dnf upgrade")]),s._v("）都会升级你系统上的 MySQL 包，并替换任何本地第三方包，前提是 Yum 在 MySQL Yum 仓库中找到了替换包；参阅"),a("RouterLink",{attrs:{to:"/2/2.11/2.11.7/updating-yum-repo.html"}},[s._v("章节 2.11.7，“使用 MySQL Yum 仓库升级 MySQL”")]),s._v("，有关这对系统可能产生的一些影响的讨论，参阅"),a("RouterLink",{attrs:{to:"/2/2.11/2.11.7/updating-yum-repo.html#升级共享客户端库"}},[s._v("升级共享客户端库")]),s._v("。")],1)]),s._v(" "),a("h3",{attrs:{id:"_2-选择一个发布系列"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-选择一个发布系列"}},[s._v("#")]),s._v(" 2. "),a("strong",[s._v("选择一个发布系列")])]),s._v(" "),a("p",[s._v("在使用 MySQL Yum 仓库时，默认情况下会选择最新的 GA 系列（当前为 MySQL 8.0）进行安装。如果这是你想要的，你以跳到下一步，"),a("RouterLink",{attrs:{to:"/2/2.5/2.5.1/linux-installation-yum-repo.html#_4-安装-MySQL"}},[s._v("安装 MySQL")]),s._v("。\n在MySQL Yum 仓库中，MySQL 社区服务器的不同版本系列托管在不同的子仓库中。默认情况下，最新 GA 系列（当前为 MySQL 8.0）的子仓库处于启用状态，而所有其他系列（例如，MySQL 8.0 系列）的子仓库处于禁用状态。使用此命令可查看 MySQL Yum 仓库中的所有子仓库，并查看其中哪些子仓库已启用或禁用（对于启用 dnf 的系统，请将命令中的 "),a("strong",[s._v("Yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")],1),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" yum repolist all "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("要安装最新 GA 系列的最新版本，无需配置。要安装除最新 GA 系列之外的特定系列的最新版本，请在运行安装命令之前禁用最新 GA 序列的子仓库，并启用特定系列的子仓库。如果你的平台支持 "),a("strong",[s._v("yum-config-manager")]),s._v("，你可以通过发出以下命令来实现这一点：禁用 5.7 系列的子仓库，并启用 8.0 系列的子库：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--disable")]),s._v(" mysql57-community\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--enable")]),s._v(" mysql80-community\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("对于启用 dnf 的平台：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf config-manager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--disable")]),s._v(" mysql57-community\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf config-manager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--enable")]),s._v(" mysql80-community\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("除了使用 "),a("strong",[s._v("yum-config-manager")]),s._v(" 或 "),a("strong",[s._v("dnf config-manager")]),s._v(" 命令外，你还可以通过手动编辑 "),a("code",[s._v("/etc/yum.repos.d/mysql-community.repo")]),s._v(" 文件来选择发行系列。这是文件中版本系列子仓库的典型条目：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql57-community"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.7")]),s._v(" Community Server\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://repo.mysql.com/yum/mysql-5.7-community/el/6/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql-2022\n       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("找到要配置的子存储库的条目，然后编辑“已启用”选项。指定 "),a("code",[s._v("enabled=0")]),s._v(" 以禁用子仓库，或指定 "),a("code",[s._v("enabled=1")]),s._v(" 以启用子仓库。例如，要安装 MySQL 8.0，请确保为MySQL 5.7的上述子存储库条目 "),a("code",[s._v("enabled=0")]),s._v("，并为 8.0 系列的条目 "),a("code",[s._v("enabled=1")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Enable to use MySQL 8.0")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("mysql80-community"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MySQL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v(" Community Server\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://repo.mysql.com/yum/mysql-8.0-community/el/6/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql-2022\n       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("在任何时候都只能为一个发行版系列启用子仓库。当启用多个版本系列的子仓库时，Yum 将使用最新系列。")]),s._v(" "),a("p",[s._v("通过运行以下命令并检查其输出，验证是否启用和禁用了正确的子仓库（对于启用 dnf 的系统，将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" yum repolist enabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_3-禁用默认-mysql-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-禁用默认-mysql-模块"}},[s._v("#")]),s._v(" 3. 禁用默认 MySQL 模块")]),s._v(" "),a("p",[s._v("（仅限 EL8 系统）基于 EL8 的系统，如 RHEL8 和 Oracle Linux 8，包括默认启用的 MySQL 模块。除非禁用此模块，否则它会屏蔽 MySQL 仓库提供的包。要禁用包含的模块并使 MySQL 仓库包可见，请使用以下命令（对于启用 dnf 的系统，将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum module disable mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"_4-安装-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装-mysql"}},[s._v("#")]),s._v(" 4. 安装 MySQL")]),s._v(" "),a("p",[s._v("通过以下命令安装MySQL（对于启用dnf的系统，将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这将安装 MySQL 服务器的包（MySQL 社区服务器），以及运行服务器所需组件的包，包括客户端的包（MySQL 社区客户端）、客户端和服务器的常见错误消息和字符集（"),a("code",[s._v("mysql-community-common")]),s._v("）以及共享客户端库（"),a("code",[s._v("mysql-community-libs")]),s._v("）。")]),s._v(" "),a("h2",{attrs:{id:"_5-启动-mysql-服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-启动-mysql-服务器"}},[s._v("#")]),s._v(" 5. 启动 MySQL 服务器")]),s._v(" "),a("p",[s._v("通过以下命令启动 MySQL：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" systemctl start mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("你也可以通过以下命令检查 MySQL 服务器状态：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" systemctl status mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如果操作系统启用了 systemd，则应使用标准 "),a("strong",[s._v("systemctl")]),s._v("（或参数相反的 "),a("strong",[s._v("service")]),s._v("）命令（如 "),a("strong",[s._v("stop")]),s._v("、"),a("strong",[s._v("start")]),s._v("、"),a("strong",[s._v("status")]),s._v(" 和 "),a("RouterLink",{attrs:{to:"/13/13.7/13.7.8/13.7.8.8/restart.html"}},[a("strong",[s._v("restart")])]),s._v("）来管理 MySQL 服务器服务。默认情况下，"),a("code",[s._v("mysqld")]),s._v(" 服务处于启用状态，并在系统重新启动时启动。有关更多信息，参阅"),a("RouterLink",{attrs:{to:"/2/2.5/2.5.9/using-systemd.html"}},[s._v("章节 2.5.9，“使用 systemd 管理 MySQL 服务器”")]),s._v("。")],1),s._v(" "),a("p",[s._v("在服务器初始启动时，如果服务器的数据目录为空，则会发生以下情况：")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("服务器被初始化。")])]),s._v(" "),a("li",[a("p",[s._v("SSL 证书和密钥文件在数据目录中生成。")])]),s._v(" "),a("li",[a("p",[s._v("已安装并启用 "),a("RouterLink",{attrs:{to:"/6/6.4/6.4.3/validate-password.html"}},[s._v("validate_password")]),s._v("。")],1)]),s._v(" "),a("li",[a("p",[s._v("将创建超级用户帐户 'root'@'localhost。超级用户的密码已设置并存储在错误日志文件中。要显示它，请使用以下命令：")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'temporary password'")]),s._v(" /var/log/mysqld.log\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("通过使用生成的临时密码登录，尽快更改 root 密码，并为超级用户帐户设置自定义密码：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" mysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("mysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ALTER "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("USER")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'MyNewPass4!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("默认情况下安装了 "),a("a",{attrs:{href:"/6/6.4/6.4.3/validate-password"}},[s._v("validate_password")]),s._v("。"),a("RouterLink",{attrs:{to:"/6/6.4/6.4.3/validate-password.html"}},[s._v("validate_password")]),s._v(" 实现的默认密码策略要求密码至少包含一个大写字母、一个小写字母、一位数字和一个特殊字符，并且总密码长度至少为 8 个字符。")],1)]),s._v(" "),a("p",[s._v("有关安装后程序的更多信息，参阅"),a("RouterLink",{attrs:{to:"/2/2.10/postinstallation.html"}},[s._v("章节 2.10，“安装后设置和测试”")]),s._v("。")],1),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[a("em",[s._v("基于 EL7 的平台的兼容性信息")]),s._v("：来自这些平台的本机软件仓库的以下 RPM 包与来自安装 MySQL 服务器的 MySQL Yum 仓库的包不兼容。一旦使用 MySQL Yum 仓库安装了 MySQL，就无法安装这些软件包（反之亦然）。"),a("br"),s._v("- akonadi mysql")])]),s._v(" "),a("h2",{attrs:{id:"使用-yum-安装其他-mysql-产品和组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-yum-安装其他-mysql-产品和组件"}},[s._v("#")]),s._v(" 使用 Yum 安装其他 MySQL 产品和组件")]),s._v(" "),a("p",[s._v("你可以使用 Yum 来安装和管理 MySQL 的各个组件。其中一些组件位于 MySQL Yum 仓库的子仓库中：例如，MySQL 连接器可以在 MySQL 连接器社区子仓库和 MySQL 工具社区中的 MySQL 工作台中找到。你可以使用以下命令列出 MySQL Yum 仓库中可用于你平台的所有 MySQL 组件的包（对于启用 dnf 的系统，将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--disablerepo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--enablerepo")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'mysql*-community*'")]),s._v(" list available\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用以下命令安装你选择的任何软件包，将软件包名称替换为软件包名称（对于启用 dnf 的系统，将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 *"),a("em",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" package-name\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("例如，要在 Fedora 上安装 MySQL Workbench：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dnf "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-workbench-community\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("要安装共享客户端库（对于启用 dnf 的系统，将命令中的 "),a("strong",[s._v("yum")]),s._v(" 替换为 "),a("strong",[s._v("dnf")]),s._v("）：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-libs\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"平台特定说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#平台特定说明"}},[s._v("#")]),s._v(" 平台特定说明")]),s._v(" "),a("p",[s._v("支持 ARM")]),s._v(" "),a("p",[s._v("Oracle Linux 7 支持 ARM 64位（aarch64），并且需要 Oracle Linux 7 软件集合库（ol7_Software_Collections）。例如，要安装服务器：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" yum-config-manager "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--enable")]),s._v(" ol7_software_collections\n$"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-community-server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("从 MySQL 8.0.12 开始，Oracle Linux 7 支持 ARM 64位（aarch64）。")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("已知限制")]),s._v(" "),a("p",[s._v("8.0.12 版本要求你在执行 "),a("code",[s._v("yum install")]),s._v(" 步骤后，通过执行 "),a("code",[s._v("ln -s /opt/oracle/oracle-armtoolset-1/root/usr/lib64/usr/lib64/gcc7")]),s._v(" 来调整 "),a("code",[s._v("libstdc++7")]),s._v(" 路径。")])]),s._v(" "),a("h2",{attrs:{id:"通过-yum-升级-mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-yum-升级-mysql"}},[s._v("#")]),s._v(" 通过 Yum 升级 MySQL")]),s._v(" "),a("p",[s._v("除了安装，你还可以使用 MySQL Yum 仓库对 MySQL 产品和组件执行更新。有关详细信息，参阅"),a("RouterLink",{attrs:{to:"/2/2.11/2.11.7/updating-yum-repo.html"}},[s._v("章节 2.11.7，“使用 MySQL Yum 仓库升级 MySQL”")]),s._v("。")],1),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/linux-installation-yum-repo.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);