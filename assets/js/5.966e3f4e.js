(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{239:function(t,s,a){t.exports=a.p+"assets/img/mac-installer-installation-type-customize.4e917e39.png"},294:function(t,s,a){t.exports=a.p+"assets/img/mac-installer-installation-type-standard.512f68e2.png"},295:function(t,s,a){t.exports=a.p+"assets/img/mac-installer-configuration-password-type.2f17d13c.png"},296:function(t,s,a){t.exports=a.p+"assets/img/mac-installer-configuration-password-define.dca6fd6b.png"},297:function(t,s,a){t.exports=a.p+"assets/img/mac-installer-summary.2b920abc.png"},394:function(t,s,a){"use strict";a.r(s);var _=a(13),o=Object(_.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_2-4-2-使用本机软件包在-macos-上安装-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-使用本机软件包在-macos-上安装-mysql"}},[t._v("#")]),t._v(" 2.4.2 使用本机软件包在 macOS 上安装 MySQL")]),t._v(" "),s("p",[t._v("该包位于磁盘镜像（.dmg）文件中，你首先需要通过双击 Finder 中的图标来挂载该文件。然后，它应该挂载镜像并显示其内容。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("在继续安装之前，请确保使用 MySQL 管理器应用程序（在 macOS 服务器上）、首选项面板或命令行上的 "),s("RouterLink",{attrs:{to:"/4/4.5/4.5.2/mysqladmin.html"}},[t._v("mysqladmin shutdown")]),t._v(" 来停止所有正在运行的 MySQL 服务器实例。")],1)]),t._v(" "),s("p",[t._v("要使用软件包安装程序安装 MySQL：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("下载包含 MySQL 包安装程序的磁盘映像（.dmg）文件（此处提供社区版本）。双击文件以装入磁盘镜像并查看其内容。")]),t._v(" "),s("p",[t._v("双击磁盘上的 MySQL 安装程序包。它是根据你下载的 MySQL 版本命名的。例如，对于 MySQL 服务器 8.0.30，它可能被命名为 "),s("code",[t._v("mysql-8.0.30-macos-10.13-x86_64.pkg")]),t._v("。")])]),t._v(" "),s("li",[s("p",[t._v("初始向导介绍屏幕引用要安装的 MySQL 服务器版本。单击"),s("code",[t._v("继续")]),t._v("开始安装。")]),t._v(" "),s("p",[t._v("MySQL 社区版显示了相关 GNU 通用公共许可证的副本。单击"),s("code",[t._v("继续")]),t._v("，然后"),s("code",[t._v("同意")]),t._v("继续。")])]),t._v(" "),s("li",[s("p",[t._v("在“"),s("strong",[t._v("安装类型")]),t._v("”页面中，你可以单击"),s("code",[t._v("安装")]),t._v("以使用所有默认值执行安装向导，或者单击"),s("code",[t._v("自定义")]),t._v("以更改要安装的组件（MySQL 服务器、MySQL 测试、首选项面板、Launchd 支持——默认情况下启用除 MySQL 测试之外的所有组件）。")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("虽然"),s("code",[t._v("更改安装位置")]),t._v("选项可见，但无法更改安装位置。")])]),t._v(" "),s("p",[s("strong",[t._v("图 2.13 MySQL 包安装程序向导：安装类型")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(294),alt:"MySQL Package Installer Wizard: Installation Type"}})]),t._v(" "),s("p",[s("strong",[t._v("图2.14 MySQL 包安装程序向导：自定义")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(239),alt:"MySQL Package Installer Wizard: Customize"}})]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[t._v("单击"),s("code",[t._v("安装")]),t._v("以安装 MySQL 服务器。如果升级当前的 MySQL 服务器安装，安装过程在此结束，否则，请按照向导的其他配置步骤进行新的MySQL Server安装。")])]),t._v(" "),s("li",[s("p",[t._v("成功安装新的 MySQL 服务器后，通过选择密码的默认加密类型、定义 root 密码以及在启动时启用（或禁用）MySQL 服务器来完成配置步骤。")])]),t._v(" "),s("li",[s("p",[t._v("默认的 MySQL 8.0 密码机制是 "),s("code",[t._v("caching_sha2_password")]),t._v("（强），此步骤允许你将其更改为 "),s("code",[t._v("mysql_native_password")]),t._v("（旧版）。")])])]),t._v(" "),s("p",[s("strong",[t._v("图 2.15 MySQL 包安装程序向导：选择密码加密类型")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(295),alt:"MySQL Package Installer Wizard: Choose a Password Encryption Type"}})]),t._v(" "),s("p",[t._v("选择传统密码机制会更改生成的 launchd 文件，以在 "),s("code",[t._v("ProgramArguments")]),t._v(" 下设置 "),s("RouterLink",{attrs:{to:"/5/5.1/5.1.8/server-system-variables.html"}},[t._v("--default_authentication_plugin=mysql_native_password")]),t._v("。选择强密码加密不会设置 "),s("code",[t._v("--default_authentication_plugin")]),t._v("，因为使用了默认的 MySQL 服务器值就是 "),s("code",[t._v("caching_sha2_password")]),t._v("。")],1),t._v(" "),s("ol",{attrs:{start:"7"}},[s("li",[t._v("为 root 用户定义密码，并切换配置步骤完成后是否启动 MySQL 服务器。")])]),t._v(" "),s("p",[s("strong",[t._v("图 2.16 MySQL 包安装程序向导：定义根密码")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(296),alt:"MySQL Package Installer Wizard: Define Root Password"}})]),t._v(" "),s("ol",{attrs:{start:"8"}},[s("li",[s("code",[t._v("总结")]),t._v("是最后一步，它引用了成功和完整的 MySQL 服务器安装。"),s("code",[t._v("关闭")]),t._v("向导。")])]),t._v(" "),s("p",[s("strong",[t._v("图 2.17 MySQL 包安装向导：总结")])]),t._v(" "),s("p",[s("img",{attrs:{src:a(297),alt:"MySQL Package Installer Wizard: Summary"}})]),t._v(" "),s("p",[t._v("MySQL 服务器现已安装。如果你选择不启动 MySQL，则从命令行使用 launchctl 或使用 MySQL 首选项面板单击“开始”启动MySQL。有关更多信息，参阅"),s("RouterLink",{attrs:{to:"/2/2.4/2.4.3/macos-installation-launchd.html"}},[t._v("章节 2.4.3，“安装和使用 MySQL 启动守护程序”")]),t._v("和"),s("RouterLink",{attrs:{to:"/2/2.4/2.4.4/macos-installation-prefpane.html"}},[t._v("章节 2.2.4，“安装并使用 MySQL 首选项面板”")]),t._v("。使用 MySQL 首选项面板或 launchd 将 MySQL 配置为在启动时自动启动。")],1),t._v(" "),s("p",[t._v("使用软件包安装程序进行安装时，文件将安装到 "),s("code",[t._v("/usr/local")]),t._v(" 中与安装版本和平台名称匹配的目录中。例如，安装程序文件 "),s("code",[t._v("mysql-8.0.30-macos10.15-x86_64.dmg")]),t._v(" 将 MySQL 安装到 "),s("code",[t._v("/usr/local/mysql-8.1.30-macos10.15/x86_ 64/")]),t._v(" 中，并带有指向 "),s("code",[t._v("/usr/local/mysql")]),t._v(" 的符号链接。下表显示了此 MySQL 安装目录的结构。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("macOS 安装过程不会创建或安装示例 MySQL 配置文件 "),s("code",[t._v("my.cnf")]),t._v("。")])]),t._v(" "),s("p",[s("strong",[t._v("表 2.7 macOS 上的 MySQL 安装结构")])]),t._v(" "),s("p",[t._v("|目录|目录内容|\n|bin|"),s("RouterLink",{attrs:{to:"/4/4.3/4.3.1/mysqld.html"}},[t._v("mysqld")]),t._v(" 服务器、客户端和实用程序|\n|data|日志文件、数据库，"),s("code",[t._v("/usr/local/mysql/data/mysqld.local.err")]),t._v(" 是默认的错误日志|\n|docs|帮助文档，如发行说明和构建信息|\n|include|引用文件（头文件）|\n|lib|库|\n|man|Unix 手册页|\n|mysql-test|MySQL 测试套件（“MySQL Test”在使用安装程序包（DMG）的安装过程中默认禁用）|\n|share|杂项支持文件，包括错误消息和 dictionary.txt 和重写器 SQL|\n|support-files|支持脚本，如 "),s("code",[t._v("mysqld_multi.server")]),t._v("、 "),s("code",[t._v("mysql.server")]),t._v(" 和 "),s("code",[t._v("mysql-log-rotate")]),t._v("。|\n|/tmp/mysql.sock|MySQL Unix 套接字的位置|")],1),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/macos-installation-pkg.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=o.exports}}]);