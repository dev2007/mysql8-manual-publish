(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{437:function(s,t,a){"use strict";a.r(t);var r=a(13),e=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_3-3-4-6-使用-null-值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-6-使用-null-值"}},[s._v("#")]),s._v(" 3.3.4.6 使用 NULL 值")]),s._v(" "),t("p",[s._v("在你习惯之前，"),t("code",[s._v("NULL")]),s._v(" 值可能会令人惊讶。从概念上讲，"),t("code",[s._v("NULL")]),s._v(" 意味着“缺少未知值”，它的处理方式与其他值有所不同。")]),s._v(" "),t("p",[s._v("要测试 "),t("code",[s._v("NULL")]),s._v("，请使用 "),t("RouterLink",{attrs:{to:"/12/12.4/12.4.2/comparison-operators.html"}},[s._v("IS NULL")]),s._v(" 和 "),t("RouterLink",{attrs:{to:"/12/12.4/12.4.2/comparison-operators.html"}},[s._v("IS NOT NULL")]),s._v(" 运算符，如下所示：")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" IS NULL, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" IS NOT NULL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+-----------+---------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" IS NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" IS NOT NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+-----------+---------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+-----------+---------------+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("不能使用算术比较运算符（如 "),t("RouterLink",{attrs:{to:"/12/12.4/12.4.2/comparison-operators.html"}},[s._v("=")]),s._v("、"),t("RouterLink",{attrs:{to:"/12/12.4/12.4.2/comparison-operators.html"}},[s._v("<")]),s._v(" 或 "),t("RouterLink",{attrs:{to:"/12/12.4/12.4.2/comparison-operators.html"}},[s._v("<>")]),s._v("）来测试 "),t("code",[s._v("NULL")]),s._v("。要亲自演示，请尝试以下查询：")],1),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" NULL, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" NULL, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" NULL, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" NULL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+----------+-----------+----------+----------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------+-----------+----------+----------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----------+-----------+----------+----------+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("由于与 "),t("code",[s._v("NULL")]),s._v(" 进行算术比较的结果也是 "),t("code",[s._v("NULL")]),s._v("，因此无法从此类比较中获得任何有意义的结果。")]),s._v(" "),t("p",[s._v("在 MySQL 中，"),t("code",[s._v("0")]),s._v(" 或 "),t("code",[s._v("NULL")]),s._v(" 表示 false，其他任何值都表示 true。布尔运算的默认真值为 "),t("code",[s._v("1")]),s._v("。")]),s._v(" "),t("p",[s._v("这种对 "),t("code",[s._v("NULL")]),s._v(" 的特殊处理就是为什么在上一节中，有必要使用 "),t("code",[s._v("death IS NOT NULL")]),s._v(" 而不是 "),t("code",[s._v("death <> NULL")]),s._v(" 来确定哪些动物不再活着。")]),s._v(" "),t("p",[s._v("在 "),t("code",[s._v("GROUP BY")]),s._v(" 中，两个 NULL 值被视为相等。")]),s._v(" "),t("p",[s._v("执行 "),t("code",[s._v("ORDER BY")]),s._v(" 时，如果执行 "),t("code",[s._v("ORDER BY ... ASC")]),s._v("，则首先显示 "),t("code",[s._v("NULL")]),s._v("值和如果你执行 "),t("code",[s._v("ORDER BY ... DESC")]),s._v(" 则 "),t("code",[s._v("NULL")]),s._v(" 是最后显示。")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("NULL")]),s._v(" 时的一个常见错误是，假设不可能在定义为 "),t("code",[s._v("NOT NULL")]),s._v(" 的列中插入零或空字符串，但事实并非如此。这些实际上是值，而 "),t("code",[s._v("NULL")]),s._v(" 表示“没有值”。你可以通过使用 "),t("code",[s._v("IS [NOT] NULL")]),s._v(" 很容易地测试，如下所示：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("mysql"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SELECT "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" IS NULL, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" IS NOT NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" IS NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" IS NOT NULL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+-----------+---------------+------------+----------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" IS NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" IS NOT NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" IS NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" IS NOT NULL "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+-----------+---------------+------------+----------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+-----------+---------------+------------+----------------+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("因此，将零或空字符串插入 "),t("code",[s._v("NOT NULL")]),s._v(" 列是完全可能的，因为这些列实际上是 "),t("code",[s._v("NOT NULL")]),s._v("。参阅"),t("RouterLink",{attrs:{to:"/b/b.3/b.3.4/b.3.4.3/problems-with-null.html"}},[s._v("章节 B.3.4.3，“NULL 值的问题”")]),s._v("。")],1),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/working-with-null.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);