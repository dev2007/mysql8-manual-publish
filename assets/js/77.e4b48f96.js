(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{368:function(_,v,e){"use strict";e.r(v);var s=e(13),l=Object(s.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("h1",{attrs:{id:"_2-13-3-使用-perl-dbi-dbd-接口的问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-13-3-使用-perl-dbi-dbd-接口的问题"}},[_._v("#")]),_._v(" 2.13.3 使用 Perl DBI/DBD 接口的问题")]),_._v(" "),v("p",[_._v("如果 Perl 报告它找不到 "),v("code",[_._v("../mysql/mysql.so")]),_._v(" 模块，问题可能是 Perl 找不到 "),v("code",[_._v("libmysqlclient.so")]),_._v(" 共享库。你应该能够通过以下方法之一解决此问题：")]),_._v(" "),v("ul",[v("li",[_._v("将 "),v("code",[_._v("libmysqlclient.so")]),_._v(" 复制到其他共享库所在的目录（可能是 "),v("code",[_._v("/usr/lib")]),_._v(" 或 "),v("code",[_._v("/lib")]),_._v("）。")]),_._v(" "),v("li",[_._v("修改用于编译 "),v("code",[_._v("DBD::mysql")]),_._v(" 的 "),v("code",[_._v("-L")]),_._v(" 选项，以反映 "),v("code",[_._v("libmysqlclient.so")]),_._v(" 的实际位置。")]),_._v(" "),v("li",[_._v("在 Linux上，可以将 "),v("code",[_._v("libmysqlclient.so")]),_._v(" 所在目录的路径名添加到 "),v("code",[_._v("/etc/ld.so.conf")]),_._v(" 文件中。")]),_._v(" "),v("li",[_._v("将 "),v("code",[_._v("libmysqlclient.so")]),_._v(" 所在目录的路径名添加到 "),v("code",[_._v("LD_RUN_PATH")]),_._v(" 环境变量。某些系统改用 "),v("code",[_._v("LD_LIBRARY_PATH")]),_._v("。")])]),_._v(" "),v("p",[_._v("注意，如果链接器找不到其他库，则可能还需要修改 "),v("code",[_._v("-L")]),_._v(" 选项。例如，如果链接器找不到 "),v("code",[_._v("libc")]),_._v("，因为它位于 "),v("code",[_._v("/lib")]),_._v(" 中，而链接命令指定了 "),v("code",[_._v("-L/usr/lib")]),_._v("，请将 "),v("code",[_._v("-L")]),_._v(" 选项更改为 "),v("code",[_._v("-L/lib")]),_._v(" 或将 "),v("code",[_._v("-L/lib")]),_._v(" 添加到现有的链接命令中。")]),_._v(" "),v("p",[_._v("如果你从 "),v("code",[_._v("DBD::mysql")]),_._v(" 中得到以下错误，那么你可能正在使用 "),v("strong",[_._v("gcc")]),_._v("（或使用用 "),v("strong",[_._v("gcc")]),_._v(" 编译的旧二进制文件）：")]),_._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[_._v("/usr/bin/perl: can"),v("span",{pre:!0,attrs:{class:"token string"}},[_._v("'t resolve symbol '")]),_._v("__moddi3"),v("span",{pre:!0,attrs:{class:"token string"}},[_._v("'\n/usr/bin/perl: can'")]),_._v("t resolve symbol "),v("span",{pre:!0,attrs:{class:"token string"}},[_._v("'__divdi3'")]),_._v("\n")])]),_._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[_._v("1")]),v("br"),v("span",{staticClass:"line-number"},[_._v("2")]),v("br")])]),v("p",[_._v("当构建 "),v("code",[_._v("mysql.so")]),_._v(" 库时，添加 "),v("code",[_._v("-L/usr/lib/gcc-lib/... -lgcc")]),_._v(" 到链接命令（编译 Perl 客户端时，请检查用于 "),v("code",[_._v("mysql.so")]),_._v(" 的 "),v("strong",[_._v("make")]),_._v(" 输出）。"),v("code",[_._v("-L")]),_._v(" 选项应指定 "),v("code",[_._v("libgcc.a")]),_._v(" 在系统上所在目录的路径名。")]),_._v(" "),v("p",[_._v("这个问题的另一个原因可能是 Perl 和 MySQL 都不是用 "),v("strong",[_._v("gcc")]),_._v(" 编译的。在这种情况下，可以通过使用 "),v("strong",[_._v("gcc")]),_._v(" 编译两者来解决不匹配问题。")]),_._v(" "),v("blockquote",[v("p",[v("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/perl-support-problems.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("原文链接"),v("OutboundLink")],1)])])])}),[],!1,null,null,null);v.default=l.exports}}]);