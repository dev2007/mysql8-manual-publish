(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{319:function(s,t,a){"use strict";a.r(t);var n=a(13),r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_1-6-2-3-foreign-key-约束的区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2-3-foreign-key-约束的区别"}},[s._v("#")]),s._v(" 1.6.2.3 FOREIGN KEY 约束的区别")]),s._v(" "),t("p",[s._v("外键约束的 MySQL 实现在以下关键方面与SQL标准不同：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("如果父表中有多行具有相同的引用键值，"),t("RouterLink",{attrs:{to:"/15/innodb-storage-engine.html"}},[t("code",[s._v("InnoDB")])]),s._v(" 将执行外键检查，就像不存在具有相同键值的其他父行一样。例如，如果定义了 "),t("code",[s._v("RESTRICT")]),s._v(" 类型约束，并且有一个子行包含多个父行，则 "),t("code",[s._v("InnoDB")]),s._v(" 不允许删除任何父行。")],1)]),s._v(" "),t("li",[t("p",[s._v("如果 "),t("code",[s._v("ON UPDATE CASCADE")]),s._v(" 或 "),t("code",[s._v("ON UPDATE SET NULL")]),s._v(" 递归以更新它以前在同一级联过程中更新过的"),t("em",[s._v("同一个表")]),s._v("，则其行为类似于 "),t("code",[s._v("RESTRICT")]),s._v("。这意味着你不能在 "),t("code",[s._v("ON UPDATE CASCADE")]),s._v(" 或 "),t("code",[s._v("ON UPDATE SET NULL")]),s._v(" 操作上使用自引用。这是为了防止级联更新导致无限循环。另一方面，"),t("code",[s._v("ON DELETE SET NULL")]),s._v(" 上的自引用是可行的，"),t("code",[s._v("ON DELETE CASCADE")]),s._v(" 上的自引用也是可行的。级联操作的嵌套深度不得超过 15 层。")])]),s._v(" "),t("li",[t("p",[s._v("在插入、删除或更新多行的 SQL 语句中，将逐行检查外键约束（如唯一约束）。在执行外键检查时，"),t("RouterLink",{attrs:{to:"/15/innodb-storage-engine.html"}},[t("code",[s._v("InnoDB")])]),s._v(" 会对必须检查的子记录或父记录设置共享行级锁。MySQL 立即检查外键约束；检查不会延迟到事务提交。根据 SQL 标准，默认行为应该是延迟检查。也就是说，只有在处理"),t("em",[s._v("完整 SQL 语句")]),s._v("后才检查约束。这意味着无法使用外键删除引用自身的行。")],1)]),s._v(" "),t("li",[t("p",[s._v("包括 InnoDB 在内的任何存储引擎都无法识别或强制执行引用完整性约束定义中使用的 "),t("code",[s._v("MATCH")]),s._v(" 子句。使用显式 "),t("code",[s._v("MATCH")]),s._v(" 子句没有指定的效果，它会导致忽略 "),t("code",[s._v("ON DELETE")]),s._v(" 和 "),t("code",[s._v("ON UPDATE")]),s._v(" 子句。应避免指定 "),t("code",[s._v("MATCH")]),s._v("。")]),s._v(" "),t("p",[s._v("SQL 标准中的 "),t("code",[s._v("MATCH")]),s._v(" 子句控制在与引用表中的主键进行比较时，如何处理复合（多列）外键中的 "),t("code",[s._v("NULL")]),s._v(" 值。MySQL 本质上实现了 "),t("code",[s._v("MATCH SIMPLE")]),s._v(" 定义的语义，它允许外键全部或部分为空。在这种情况下，可以插入包含此类外键的（子表）行，即使它与引用的（父表）表中的任何行都不匹配。（可以使用触发器实现其他语义。）")])]),s._v(" "),t("li",[t("p",[s._v("出于性能原因，MySQL 要求对引用的列进行索引。但是，MySQL 不强制要求引用的列是 "),t("code",[s._v("UNIQUE")]),s._v(" 或声明为 "),t("code",[s._v("NOT NULL")]),s._v("。")]),s._v(" "),t("p",[s._v("引用非 "),t("code",[s._v("UNIQUE")]),s._v(" 键的 "),t("code",[s._v("FOREIGN KEY")]),s._v(" 不是标准 SQL，而是 "),t("RouterLink",{attrs:{to:"/15/innodb-storage-engine.html"}},[t("code",[s._v("InnoDB")])]),s._v(" 扩展。另一方面，"),t("a",{attrs:{href:"/23/mysql-cluster"}},[t("code",[s._v("NDB")])]),s._v(" 存储引擎要求在作为外键引用的任何列上有一个明确的唯一键（或主键）。")],1),s._v(" "),t("p",[s._v("对于诸如 "),t("code",[s._v("UPDATE")]),s._v(" 或 "),t("code",[s._v("DELETE CASCADE")]),s._v(" 之类的操作，没有很好地定义对非唯一键或包含空值的键的外键引用的处理。建议你使用外键时只引用 "),t("code",[s._v("UNIQUE")]),s._v(" 键（包括 "),t("code",[s._v("PRIMARY")]),s._v("）和 "),t("code",[s._v("NOT NULL")]),s._v(" 键。")])]),s._v(" "),t("li",[t("p",[s._v("对于不支持外键的存储引擎（如 "),t("RouterLink",{attrs:{to:"/16/16.2/myisam-storage-engine.html"}},[t("code",[s._v("MyISAM")])]),s._v("），MySQL Server 解析并忽略外键规范。")],1)]),s._v(" "),t("li",[t("p",[s._v("MySQL 解析但忽略“内联 "),t("code",[s._v("REFERENCES")]),s._v(" 规范”（在 SQL 标准中定义），其中引用被定义为列规范的一部分。MySQL 仅在指定作为部分单独的 "),t("code",[s._v("FOREIGN KEY")]),s._v(" 规范的，才接受 "),t("code",[s._v("REFERENCES")]),s._v(" 子句。")]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("REFERENCES tbl_name(col_name)")]),s._v(" 子句定义列没有实际效果，"),t("em",[s._v("只是作为一个备忘录或注释，告知你当前定义的列是要引用另一个表中的列")]),s._v("。使用此语法时，必须意识到：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("MySQL 不会执行任何类型的检查以确保 "),t("em",[s._v("col_name")]),s._v(" 确实存在于 "),t("em",[s._v("tbl_name")]),s._v(" 中（甚至 "),t("em",[s._v("tbl_name")]),s._v(" 本身是否存在）。")])]),s._v(" "),t("li",[t("p",[s._v("MySQL 不会对 "),t("code",[s._v("tbl_name")]),s._v(" 执行任何类型的操作，例如删除行以响应对你正在定义的表中的行执行的操作；换句话说，这种语法不会导致任何关于删除或更新的行为。（尽管你可以将 "),t("code",[s._v("ON DELETE")]),s._v(" 或 "),t("code",[s._v("ON UPDATE")]),s._v(" 子句作为 "),t("code",[s._v("REFERENCES")]),s._v(" 子句的一部分编写，但它也会被忽略。）")])]),s._v(" "),t("li",[t("p",[s._v("此语法创建一 "),t("em",[s._v("column（列）")]),s._v("；它"),t("strong",[s._v("不")]),s._v("创建任何类型的索引或键。")])])]),s._v(" "),t("p",[s._v("可以将这样创建的列用作联接列，如下所示：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("CREATE TABLE person "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,\n  name CHAR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" NOT NULL,\n  PRIMARY KEY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nCREATE TABLE shirt "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,\n  style ENUM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t-shirt'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dress'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" NOT NULL,\n  color ENUM"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'red'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blue'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'orange'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'white'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'black'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" NOT NULL,\n  owner SMALLINT UNSIGNED NOT NULL REFERENCES person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n  PRIMARY KEY "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nINSERT INTO person VALUES "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Antonio Paz'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSELECT @last :"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" LAST_INSERT_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nINSERT INTO shirt VALUES\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blue'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dress'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'white'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t-shirt'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blue'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nINSERT INTO person VALUES "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Lilliana Angelovska'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSELECT @last :"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" LAST_INSERT_ID"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nINSERT INTO shirt VALUES\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dress'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'orange'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polo'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'red'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dress'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blue'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("NULL, "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t-shirt'")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'white'")]),s._v(", @last"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nSELECT * FROM person"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+----+---------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" name                "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----+---------------------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Antonio Paz         "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Lilliana Angelovska "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----+---------------------+\n\nSELECT * FROM shirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n+----+---------+--------+-------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" style   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" color  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" owner "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----+---------+--------+-------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" polo    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" blue   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dress   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" white  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" t-shirt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" blue   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dress   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" orange "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" polo    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" red    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dress   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" blue   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" t-shirt "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" white  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----+---------+--------+-------+\n\n\nSELECT s.* FROM person p INNER JOIN shirt s\n  ON s.owner "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p.id\nWHERE p.name LIKE "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Lilliana%'")]),s._v("\n  AND s.color "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<>")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'white'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n+----+-------+--------+-------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" style "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" color  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" owner "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----+-------+--------+-------+\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dress "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" orange "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" polo  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" red    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" dress "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" blue   "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n+----+-------+--------+-------+\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br")])]),t("p",[s._v("以这种方式使用时，"),t("code",[s._v("REFERENCES")]),s._v(" 子句不会显示在 "),t("code",[s._v("SHOW CREATE TABLE")]),s._v(" 或 "),t("code",[s._v("DESCRIPE")]),s._v(" 的输出中：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("SHOW CREATE TABLE shirt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("G\n*************************** "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". row ***************************\nTable: shirt\nCreate Table: CREATE TABLE "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("shirt"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" smallint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unsigned NOT NULL auto_increment,\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("style"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" enum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t-shirt'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polo'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dress'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" NOT NULL,\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("color"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" enum"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'red'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'blue'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'orange'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'white'")]),s._v(","),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'black'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" NOT NULL,\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("owner"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" smallint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" unsigned NOT NULL,\nPRIMARY KEY  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ENGINE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("MyISAM DEFAULT "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CHARSET")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8mb4\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("p",[s._v("更多有关外键约束的信息，参阅"),t("RouterLink",{attrs:{to:"/13/13.1/13.1.20/13.1.20.5/create-table-foreign-keys.html"}},[s._v("章节 13.1.20.5，“FOREIGN KEY 约束”")]),s._v("。")],1)])]),s._v(" "),t("blockquote",[t("p",[t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/ansi-diff-foreign-keys.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("原文链接"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=r.exports}}]);