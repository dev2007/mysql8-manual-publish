(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{401:function(t,s,v){"use strict";v.r(s);var e=v(13),_=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_2-5-4-使用-oracle-的-rpm-包在-linux-上安装-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-4-使用-oracle-的-rpm-包在-linux-上安装-mysql"}},[t._v("#")]),t._v(" 2.5.4 使用 Oracle 的 RPM 包在 Linux 上安装 MySQL")]),t._v(" "),s("p",[t._v("在基于 RPM 的 Linux 发行版上安装 MySQL 的推荐方法是使用 Oracle 提供的 RPM 软件包。对于 MySQL 的社区版，有两个来源可以获得它们：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("从 MySQL 软件仓库：")]),t._v(" "),s("ul",[s("li",[t._v("MySQL Yum 仓库（有关详细信息，参阅"),s("RouterLink",{attrs:{to:"/2/2.5/2.5.1/linux-installation-yum-repo.html"}},[t._v("章节 2.5.1，“使用 MySQL Yum 仓库在 Linux 上安装 MySQL”")]),t._v("\n）。")],1),t._v(" "),s("li",[t._v("MySQL SLES 仓库（有关详细信息，参阅"),s("RouterLink",{attrs:{to:"/2/2.5/2.5.3/linux-installation-sles-repo.html"}},[t._v("章节 2.5.3，“使用 MySQL SLE 仓库在 Linux 上安装 MySQL”")]),t._v("）。")],1)])]),t._v(" "),s("li",[s("p",[t._v("从 "),s("a",{attrs:{href:"https://dev.mysql.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("MySQL 开发区"),s("OutboundLink")],1),t._v("的"),s("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载 MySQL 社区服务器"),s("OutboundLink")],1),t._v("页面。")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("MySQL 的 RPM 发行版也由其他供应商提供。请注意，它们在功能、功能和约定（包括通信设置）方面可能与 Oracle 构建的不同，本手册中的安装说明不一定适用于它们。应参考供应商的说明。")])]),t._v(" "),s("h2",{attrs:{id:"mysql-rpm-包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-rpm-包"}},[t._v("#")]),t._v(" MySQL RPM 包")]),t._v(" "),s("p",[s("strong",[t._v("表 2.9 MySQL 社区版的 RPM 包")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("包名字")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("mysql-community-client")])]),t._v(" "),s("td",[t._v("MySQL 客户端应用程序和工具")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-common")])]),t._v(" "),s("td",[t._v("服务器和客户端库的通用文件")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-devel")])]),t._v(" "),s("td",[t._v("为 MySQL 数据库客户端应用程序开发头文件和库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-embedded-compat")])]),t._v(" "),s("td",[t._v("MySQL 服务器作为嵌入式库，与使用该库版本 18 的应用程序兼容")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-libs")])]),t._v(" "),s("td",[t._v("MySQL 数据库客户端应用程序的共享库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-libs-compat")])]),t._v(" "),s("td",[t._v("以前 MySQL 安装的共享兼容性库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-server")])]),t._v(" "),s("td",[t._v("数据库服务器和相关工具")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-server-debug")])]),t._v(" "),s("td",[t._v("调试服务器和插件二进制文件")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community-test")])]),t._v(" "),s("td",[t._v("MySQL 服务器的测试套件")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-community")])]),t._v(" "),s("td",[t._v("源代码 RPM 看起来类似于 mysql-community-8.0.30-1.el7.src》rpm，取决于所选操作系统")])]),t._v(" "),s("tr",[s("td",[t._v("更多 "),s("em",[t._v("debuginfo")]),t._v(" RPM")]),t._v(" "),s("td",[t._v("有几个 "),s("code",[t._v("debuginfo")]),t._v(" 包：mysql-community-client-debuginfo、mysql-community-libs-debuginfo mysql-community-server-debug-debuginfo mysql-community-server-debuginfo 和 mysql-community-test-debuginfo")])])])]),t._v(" "),s("p",[s("strong",[t._v("表 2.10 MySQL 企业版的 RPM 包")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("包名字")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("mysql-commercial-backup")])]),t._v(" "),s("td",[t._v("MySQL 企业版备份（8.0.11 添加）")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-client")])]),t._v(" "),s("td",[t._v("MySQL 客户端应用程序和工具")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-common")])]),t._v(" "),s("td",[t._v("服务器和客户端库的通用文件")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-devel")])]),t._v(" "),s("td",[t._v("为 MySQL 数据库客户端应用程序开发头文件和库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-embedded-compat")])]),t._v(" "),s("td",[t._v("MySQL 服务器作为嵌入式库，与使用该库版本 18 的应用程序兼容")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-libs")])]),t._v(" "),s("td",[t._v("MySQL 数据库客户端应用程序的共享库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-libs-compat")])]),t._v(" "),s("td",[t._v("以前 MySQL 安装的共享兼容性库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-server")])]),t._v(" "),s("td",[t._v("数据库服务器和相关工具")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("mysql-commercial-test")])]),t._v(" "),s("td",[t._v("MySQL 服务器的测试套件")])]),t._v(" "),s("tr",[s("td",[t._v("更多 "),s("em",[t._v("debuginfo")]),t._v(" RPM")]),t._v(" "),s("td",[t._v("有几个 "),s("code",[t._v("debuginfo")]),t._v(" 包：mysql-community-client-debuginfo、mysql-community-libs-debuginfo mysql-community-server-debug-debuginfo mysql-community-server-debuginfo 和 mysql-community-test-debuginfo")])])])]),t._v(" "),s("p",[t._v("RPM 的全名具有以下语法：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("packagename-version-distribution-arch.rpm\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("表 2.11 MySQL Linux RPM 包分发标识符")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("发布值")]),t._v(" "),s("th",[t._v("期望使用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("el*{version}* 其中 "),s("em",[t._v("{version}")]),t._v(" 是主企业版 Linux 版本, 比如 el8")]),t._v(" "),s("td",[t._v("EL6、EL7、EL8 和基于 EL9 平台(比如，Oracle Linux、Red Hat 企业版 Linux 和 CentOS 相应版本)")])]),t._v(" "),s("tr",[s("td",[t._v("fc*{version}* 其中 "),s("em",[t._v("{version}")]),t._v(" 是主 Fedora 版本,比如 fc34")]),t._v(" "),s("td",[t._v("Fedora 34 和 35")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("sles12")])]),t._v(" "),s("td",[t._v("SUSE Linux 企业服务器 12")])])])]),t._v(" "),s("p",[t._v("要查看 RPM 包（例如，"),s("code",[t._v("mysql-community-server")]),t._v("）中的所有文件，请使用以下命令：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-qpl")]),t._v(" mysql-community-server-version-distribution-arch.rpm\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("em",[t._v("本节其余部分的讨论仅适用于使用直接从 Oracle 下载的 RPM 包而不是通过 MySQL 仓库进行安装的过程。")])]),t._v(" "),s("p",[t._v("某些包之间存在依赖关系。如果你计划安装许多软件包，你可能希望下载 RPM 打包的 "),s("strong",[t._v("tar")]),t._v(" 文件，它包含上面列出的所有 RPM 软件包，因此你不需要单独下载它们。")]),t._v(" "),s("p",[t._v("在大多数情况下，你需要安装 "),s("code",[t._v("mysql-community-server")]),t._v("、"),s("code",[t._v("mysql-community-client")]),t._v("、"),s("code",[t._v("mysql-community-libs")]),t._v("、"),s("code",[t._v("mysql-community-common")]),t._v(" 和 "),s("code",[t._v("mysql-community-libs-compat")]),t._v("，以获得功能性的标准 MySQL 安装。要执行这种标准的基本安装，请转到包含所有这些软件包的文件夹（最好是没有其他具有类似名称的RPM软件包），并执行以下命令：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mysql-community-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("server,client,common,libs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-*\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("对于 SLES，用 "),s("strong",[t._v("zypper")]),t._v(" 替换 "),s("strong",[t._v("yum")]),t._v("；对于 Fedora，用 "),s("strong",[t._v("dnf")]),t._v(" 替代。")]),t._v(" "),s("p",[t._v("虽然最好使用诸如 "),s("strong",[t._v("yum")]),t._v(" 之类的高级软件包管理工具来安装软件包，但喜欢直接使用 "),s("strong",[t._v("rpm")]),t._v(" 命令的用户可以使用 "),s("strong",[t._v("rpm -Uvh")]),t._v(" 命令替换 "),s("strong",[t._v("yum install")]),t._v(" 命令；然而，由于安装过程可能遇到的潜在依赖性问题，使用 "),s("strong",[t._v("rpm -Uvh")]),t._v(" 会使安装过程更容易失败。")]),t._v(" "),s("p",[t._v("要只安装客户端程序，你可以在要安装的软件包列表中跳过 "),s("code",[t._v("mysql-community-server")]),t._v("；执行以下命令：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mysql-community-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("client,common,libs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("-*\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("对于 SLES，用 "),s("strong",[t._v("zypper")]),t._v(" 替换 "),s("strong",[t._v("yum")]),t._v("；对于 Fedora，用 "),s("strong",[t._v("dnf")]),t._v(" 替代。")]),t._v(" "),s("p",[t._v("使用 RPM 包的 MySQL 标准安装会在系统目录下创建文件和资源，如下表所示。")]),t._v(" "),s("p",[s("strong",[t._v("表 2.12 MySQL 开发者区 Linux RPM 包的 MySQL 安装结构")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("文件或资源")]),t._v(" "),s("th",[t._v("位置")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("客户端程序和脚本")]),t._v(" "),s("td",[s("code",[t._v("/usr/bin")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/4/4.3/4.3.1/mysqld.html"}},[t._v("mysqld")]),t._v(" 服务器")],1),t._v(" "),s("td",[s("code",[t._v("/usr/sbin")])])]),t._v(" "),s("tr",[s("td",[t._v("配置文件")]),t._v(" "),s("td",[s("code",[t._v("/etc/my.cnf")])])]),t._v(" "),s("tr",[s("td",[t._v("数据目录")]),t._v(" "),s("td",[s("code",[t._v("/var/lib/mysql")])])]),t._v(" "),s("tr",[s("td",[t._v("错误日志文件")]),t._v(" "),s("td",[t._v("对 RHEL、Oracle Linux、CentOS 或 Fedora 平台: "),s("code",[t._v("/var/log/mysqld.log")]),t._v(" "),s("br"),t._v(" 对 SLES: "),s("code",[t._v("/var/log/mysql/mysqld.log")])])]),t._v(" "),s("tr",[s("td",[s("RouterLink",{attrs:{to:"/5/5.1/5.1.8/server-system-variables.html"}},[t._v("secure_file_priv")]),t._v(" 的值")],1),t._v(" "),s("td",[s("code",[t._v("/var/lib/mysql-files")])])]),t._v(" "),s("tr",[s("td",[t._v("System V 初始化脚本")]),t._v(" "),s("td",[t._v("对 RHEL、Oracle Linux、CentOS 或 Fedora 平台: "),s("code",[t._v("/etc/init.d/mysqld")]),t._v(" "),s("br"),t._v(" 对 SLES: "),s("code",[t._v("/etc/init.d/mysql")])])]),t._v(" "),s("tr",[s("td",[t._v("Systemd 服务")]),t._v(" "),s("td",[t._v("对 RHEL、Oracle Linux、CentOS 或 Fedora 平台: "),s("code",[t._v("mysqld")]),t._v(" "),s("br"),t._v(" 对 SLES: "),s("code",[t._v("mysql")])])]),t._v(" "),s("tr",[s("td",[t._v("Pid 文件")]),t._v(" "),s("td",[s("code",[t._v("/var/run/mysql/mysqld.pid")])])]),t._v(" "),s("tr",[s("td",[t._v("Socket")]),t._v(" "),s("td",[s("code",[t._v("/var/lib/mysql/mysql.sock")])])]),t._v(" "),s("tr",[s("td",[t._v("Keyring 目录")]),t._v(" "),s("td",[s("code",[t._v("/var/lib/mysql-keyring")])])]),t._v(" "),s("tr",[s("td",[t._v("Unix 手册页")]),t._v(" "),s("td",[s("code",[t._v("/usr/share/man")])])]),t._v(" "),s("tr",[s("td",[t._v("引用（头）文件")]),t._v(" "),s("td",[s("code",[t._v("/usr/include/mysql")])])]),t._v(" "),s("tr",[s("td",[t._v("库")]),t._v(" "),s("td",[s("code",[t._v("/usr/lib/mysql")])])]),t._v(" "),s("tr",[s("td",[t._v("其他支持文件（例如，错误消息和字符集文件）")]),t._v(" "),s("td",[s("code",[t._v("/usr/share/mysql")])])])])]),t._v(" "),s("p",[t._v("安装还将在系统上创建名为 "),s("code",[t._v("mysql")]),t._v(" 的用户和名为 "),s("code",[t._v("mysql")]),t._v(" 的组。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("使用旧软件包安装以前版本的 MySQL 可能会创建一个名为 "),s("code",[t._v("/usr/my.cnf")]),t._v(" 的配置文件。强烈建议你检查文件的内容，并将所需的设置迁移到文件 "),s("code",[t._v("/etc/my.cnf")]),t._v(" 文件中，然后删除 "),s("code",[t._v("/usr/my.cnf")]),t._v("。")])]),t._v(" "),s("p",[t._v("MySQL 不会在安装过程结束时自动启动。对于 Red Hat 企业版 Linux、Oracle Linux、CentOS 和 Fedora 系统，请使用以下命令启动 MySQL：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" systemctl start mysqld\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("对于 SLES 系统，命令相同，但服务名称不同：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" systemctl start mysql\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("如果操作系统启用了 systemd，则应使用标准 "),s("strong",[t._v("systemctl")]),t._v("（或参数相反的 "),s("strong",[t._v("service")]),t._v("）命令（如 "),s("strong",[t._v("stop")]),t._v("、"),s("strong",[t._v("start")]),t._v("、"),s("strong",[t._v("status")]),t._v(" 和 "),s("RouterLink",{attrs:{to:"/13/13.7/13.7.8/13.7.8.8/restart.html"}},[s("strong",[t._v("restart")])]),t._v("）来管理 MySQL 服务器服务。默认情况下，"),s("code",[t._v("mysqld")]),t._v(" 服务处于启用状态，并在系统重新启动时启动。有关更多信息，参阅"),s("RouterLink",{attrs:{to:"/2/2.5/2.5.9/using-systemd.html"}},[t._v("章节 2.5.9，“使用 systemd 管理 MySQL 服务器”")]),t._v("。")],1),t._v(" "),s("p",[t._v("在使用 RPM 和 DEB 包进行升级安装期间，如果在升级时 MySQL 服务器正在运行，则 MySQL 服务器将停止，升级将发生，并且 MySQL 服务器会重新启动。一个例外：如果版本在升级过程中也发生了变化（例如从社区到商业，反之亦然），则不会重新启动 MySQL 服务器。")]),t._v(" "),s("p",[t._v("在服务器初始启动时，如果服务器的数据目录为空，则会发生以下情况：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("服务器被初始化。")])]),t._v(" "),s("li",[s("p",[t._v("SSL 证书和密钥文件在数据目录中生成。")])]),t._v(" "),s("li",[s("p",[t._v("已安装并启用 "),s("RouterLink",{attrs:{to:"/6/6.4/6.4.3/validate-password.html"}},[t._v("validate_password")]),t._v("。")],1)]),t._v(" "),s("li",[s("p",[t._v("将创建超级用户帐户 'root'@'localhost。超级用户的密码已设置并存储在错误日志文件中。要显示它，请使用以下命令：")])])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'temporary password'")]),t._v(" /var/log/mysqld.log\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("通过使用生成的临时密码登录，尽快更改 root 密码，并为超级用户帐户设置自定义密码：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-uroot")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("mysql"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ALTER "),s("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),t._v("@"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),t._v(" IDENTIFIED BY "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyNewPass4!'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("默认情况下安装了 "),s("RouterLink",{attrs:{to:"/6/6.4/6.4.3/validate-password.html"}},[t._v("validate_password")]),t._v("。"),s("RouterLink",{attrs:{to:"/6/6.4/6.4.3/validate-password.html"}},[t._v("validate_password")]),t._v(" 实现的默认密码策略要求密码至少包含一个大写字母、一个小写字母、一位数字和一个特殊字符，并且总密码长度至少为 8 个字符。")],1)]),t._v(" "),s("p",[t._v("如果安装过程中出现问题，你可能会在错误日志文件 "),s("code",[t._v("/var/log/mysqld.log")]),t._v(" 中找到调试信息。")]),t._v(" "),s("p",[t._v("对于某些 Linux 发行版，可能需要增加 "),s("RouterLink",{attrs:{to:"/4/4.3/4.3.1/mysqld.html"}},[s("strong",[t._v("mysqld")])]),t._v(" 可用文件描述符的数量限制。参阅"),s("RouterLink",{attrs:{to:"/b/b.3/b.3.2/b.3.2.16/not-enough-file-handles.html"}},[t._v("章节 B.3.2.16，“未找到文件和类似错误”")]),t._v("。")],1),t._v(" "),s("p",[s("strong",[t._v("从多个 MySQL 版本安装客户端库")]),t._v("。可以安装多个客户端库版本，例如，如果你希望与链接到以前库的旧应用程序保持兼容性。要安装旧的客户端库，请在 "),s("strong",[t._v("rpm")]),t._v(" 中使用 "),s("code",[t._v("--oldpackage")]),t._v(" 选项。例如，在具有 "),s("code",[t._v("libmysqlclient.21")]),t._v(" 的 EL6 系统上基于 MySQL 8.0 安装 "),s("code",[t._v("mysql-community-libs-5.5.21")]),t._v("，使用如下命令：")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--oldpackage")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ivh")]),t._v(" mysql-community-libs-5.5.50-2.el6.x86_64.rpm\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("strong",[t._v("调试包")]),t._v("。使用"),s("RouterLink",{attrs:{to:"/5/5.9/5.9.4/dbug-package.html"}},[t._v("调试包")]),t._v("编译的 MySQL 服务器的一个特殊变体已包含在服务器 RPM 包中。它执行调试和内存分配检查，并在服务器运行时生成跟踪文件。要使用该调试版本，请使用 "),s("code",[t._v("/usr/sbin/mysqld-debug")]),t._v(" 启动 MySQL，而不是将其作为服务或 "),s("code",[t._v("/usr/sbin/mysqld")]),t._v(" 启动。有关可以使用的调试选项，参阅"),s("RouterLink",{attrs:{to:"/5/5.9/5.9.4/dbug-package.html"}},[t._v("章节 5.9.4，“DBUG 包”")]),t._v("。")],1),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("在 MySQL 8.0.4 中，调试构建的默认插件目录从 "),s("code",[t._v("/usr/lib64/mysql/plugin")]),t._v(" 更改为 "),s("code",[t._v("/usr/lib64/mysql/plugin/debug")]),t._v("。之前，需要将 "),s("RouterLink",{attrs:{to:"/5/5.1/5.1.8/server-system-variables.html"}},[t._v("plugin_dir")]),t._v(" 更改为 "),s("code",[t._v("/usr/lib64/mysql/plugin/debug")]),t._v(" 以进行调试构建。")],1)]),t._v(" "),s("p",[s("strong",[t._v("从源 SRPM 重建 RPM")]),t._v("。MySQL 的源代码 SRPM 包可供下载。它们可以按原样使用标准 "),s("strong",[t._v("rpmbuild")]),t._v(" 工具链重建 MySQL RPM。")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/linux-installation-rpm.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=_.exports}}]);